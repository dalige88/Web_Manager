@using Web.Manager.WebManager.Entity
@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    ViewBag.Title = "AddWttPage";
}
@await Html.PartialAsync("_nav", new WebManager.Core.Entity.NavigationModel("推广平台", "微头条管理", "添加微头条", true))
<div class="row bgwhitebox10 mymgb15">
    <div class="mysearchbox">
        <label>添加微头条</label>
        <div class="mycl"></div>
    </div>
    <div class="row mt30 mtop15">
        @* <input type="hidden" id="pid" name="pid" value="@ViewBag.pid" />*@

        <div class="row rowmb15">
            <div class="col-md-12">
                <label class="col-sm-3 edit-group-label"><span class="spanrequired">*</span>发送渠道：</label>
                <div class="col-sm-5">

@*                    <select id="MenuSub" name="MenuSub" style="min-width:200px; width:100%;">
                        <option value="">--请选择渠道--</option>
                    </select>*@

                    <div id="qudao">

                    </div>
                    


                </div>
                <div class="mycl"></div>
            </div>
        </div>

        <div class="row rowmb15">
            <div class="col-md-12">
                <label class="col-sm-3 edit-group-label"><span class="spanrequired">*</span>微头条内容：</label>
                <div class="col-sm-5">
                    <textarea class="form-control" id="content" name="content" style="height:200px; width:100%;" maxlength="2000" onkeyup="JRTTImages.calculation()"></textarea>
                    <span id="messages" style="color:red;"></span>
                    (2000字以内)
                </div>
            </div>
        </div>


        <div class="row rowmb5">
            <div class="col-md-12">
                <label class="col-sm-2 edit-group-label"><span class="spanrequired">*</span>图片：</label>
                <div class="col-md-7">
                    <form action="" name="formurl" method="post" enctype="multipart/form-data">
                        <div style="position:relative;width:100px;height:100px">
                            <label style="background:url(/Content/images/icon/up.png) no-repeat  center;background-size:50%;display:none;position:absolute;top:50%;left:50%;height:100px;width:100px;transform:translate3d(-50px,-50px,0)" id="imgspan"></label>
                            <input type="file" id="ImgUrl" name="ImgUrl" value="" style="display:none;position:absolute;top:150px;left:50px;">
                            <input type="hidden" value="" id="ImgUrl_hidden" />
                            <img id="showImg" style="width: 100px;height: 100px;opacity:0.5; border:1px;" src="@HtmlExtention.GetUrlContent("/Content/images/icon/up.png")">
                            <input type="hidden" id="serverFilePath" name="serverFilePath" value="" style="width:100%;" />
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="showui_li" style="margin-top:100px;">
        </div>


        <div id="serve_URL" style="display:none;">

        </div>

        <div class="row" style="margin:20px 0px;">
            <div class="col-md-12">
                <label class="col-sm-3 edit-group-label"></label>
                <div class="col-sm-8">
                    <button id="btn_save" class="btn btn-primary">提交</button>
                    <button id="btn_cancel" class="btn btn-warning" onclick="history.go(-1)">取消</button>
                </div>
            </div>
        </div>

    </div>
</div>
@section CssExtend{
    <style>
                .main {
                    width: 80%;
                    margin: auto;
                }

                * {
                    padding: 0;
                    margin: 0;
                }

                .btn {
                    padding: 9px 18px;
                    background: #40AFFE;
                    color: #FFFFFF;
                    border-radius: 5px;
                }

                .upimg {
                    position: relative;
                    width: 100px;
                    height: 100px;
                    border-radius: 5px;
                    border: dashed #999999;
                    background: url(@HtmlExtention.GetUrlContent("/Scripts/page/jrttimages/img/addimg.png")) no-repeat;

                    background-position: 33px;
                }

                    .upimg input {
                        position: absolute;
                        width: 100px;
                        height: 100px;
                        opacity: 0;
                    }

                #showui {
                    @*display: flex;*@
                    justify-content: flex-start;
                }

                    #showui li {
                        width: 150px;
                        height: 150px;
                        position: relative;
                        overflow: hidden;
                        display: inline-block;
                        margin-right: 5px;
                    }

                        #showui li img.showimg {
                            width: calc(100%);
                            position: absolute;
                            text-align: center;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            z-index: 6;
                        }

                .showdiv {
                    position: absolute;
                    z-index: 9;
                    bottom: 0;
                    width: calc(100%);
                    padding: 10px;
                    display: flex;
                    justify-content: space-around;
                    background: rgba(0, 0, 0, .6);
                }

                    .showdiv img {
                        width: 20px;
                        height: 20px;
                        cursor: pointer;
                    }

                #showui li:first-child img.left {
                    opacity: .6;
                    cursor: no-drop;
                }

                #showui li:last-child img.right {
                    opacity: .6;
                    cursor: no-drop;
                }

                .oneright {
                    opacity: .6;
                    cursor: no-drop !important;
                }
    </style>
}
@section JsExtend{
    <script type="text/javascript" src="@HtmlExtention.GetUrlContent("/Scripts/page/jrttimages/add.js")"></script>
}

